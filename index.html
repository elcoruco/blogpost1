<!DOCTYPE html>
<html>
<head>
  <title>Yahoo</title>
</head>
<body>
<p>:D</p>
<div style="width:500px; height:500px; background:grey;" id="map"></div>
<script src="https://maps.googleapis.com/maps/api/js?libraries=geometry"></script>
<script src="d3.min.js"></script>
<script>
// http://prep-ine.appspot.com/api/v1/21/1745/seccion.json
// http://ubicatucasilla.ine.mx/api/casillas/21/1745/casillas.json
// datos para el distrito 5

//
// [ CREATE THE MAP ]
//
var mapOptions = {
  center : {lat:19.2676, lng:-98.4239},
  zoom : 10,
  scrollwheel :false
},
element = document.getElementById("map"),
map     = new google.maps.Map(element, mapOptions);

//
// [ GET THE DATA ]
//
//
var datos;
d3.json("datos_full.js", function(error, json){
  datos = json;
});

//
// [ COUNT VOTES ]
//
//

function count(sections, party){
  var total = 0;
  sections.forEach(function(section){
    section.votes.forEach(function(casilla){
      total += Number(casilla[party]);
    });
  });

  return total;
}

//
// [ DRAW SECTION ] 
//
//
function draw_polygon(poly, map){
  coords = google.maps.geometry.encoding.decodePath(poly);
  google_polygon = new google.maps.Polygon({
    paths: coords,
    strokeColor: '#FF3B77',
    strokeOpacity: 0.8,
    strokeWeight: 1,
    fillColor: '#FF3B77',
   fillOpacity: 0.35
  });

  google_polygon.setMap(map);
  
}
</script>
</body>
</html>